<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">



        <ui:define name="title">
            <h:outputText value="#{bundle.ListSecteurTitle}"></h:outputText>
        </ui:define>

        <ui:define name="body">

            <h:outputStylesheet name="bootstrap-3.3.6/css/bootstrap.min.css"/>
            <h:outputStylesheet name="css/paper-bootstrap-wizard.css"/>
            <h:outputStylesheet name="css/loginStyle.css"/>
            <h:outputStylesheet name="css/themify-icons.css"/>



            <h:outputScript name="bootstrap-3.3.6/js/bootstrap.min.js" />
            <h:outputScript name="js/jquery.bootstrap.wizard.js" />
            <h:outputScript name="js/paper-bootstrap-wizard.js" />
            <h:outputScript name="js/jquery.validatePaper.min.js" />




            <div class="image-container set-full-height" style="background-image: url('../resources/images/voiture.jpg')">


                <!--   Big container   -->
                <div class="container">
                    <div class="row">
                        <div class="col-sm-10 col-sm-offset-1">

                            <!--      Wizard container        -->
                            <div class="wizard-container" >
                                <div class="card wizard-card" data-color="blue" id="wizard">

                                    <h:form id="cleaningInfoForm">
                                        <!--        You can switch " data-color="green" "  with one of the next bright colors: "blue", "azure", "orange", "red"       -->


                                        <div class="wizard-navigation">
                                            <div class="progress-with-circle">
                                                <div class="progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="4" style="width: 15%;"></div>
                                            </div>
                                            <ul>
                                                <li>
                                                    <a href="#info" data-toggle="tab">
                                                        <div class="icon-circle">
                                                            <i class="ti-info"></i>
                                                        </div>
                                                        Info
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#company" data-toggle="tab">
                                                        <div class="icon-circle">
                                                            <i class="ti-home"></i>
                                                        </div>
                                                        Company
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#details" data-toggle="tab">
                                                        <div class="icon-circle">
                                                            <i class="ti-user"></i>
                                                        </div>
                                                        Details
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#summary" data-toggle="tab">
                                                        <div class="icon-circle">
                                                            <i class="ti-clipboard"></i>
                                                        </div>
                                                        Summary
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="#payment" data-toggle="tab">
                                                        <div class="icon-circle">
                                                            <i class="ti-money"></i>
                                                        </div>
                                                        Payement
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="tab-content">
                                            <div class="tab-pane" id="info">
                                                <div class="row">

                                                    <h5 class="info-text"> Veuillez remplir le formulaire ci-dessous afin que nous puissions trouver la voiture parfaite pour vous.</h5>
                                                    <div class="col-sm-12">
                                                        <p:panelGrid id="infoGrid" styleClass="ui-noborder" style="margin: 0 auto;width: 100%">
                                                            <p:row>

                                                                <p:column>
                                                                    <p:outputLabel value="Marque :" for="marque" style="text-align: left;padding-top: 10px;width: 200px"/>
                                                                </p:column>

                                                                <p:column>
                                                                    <p:selectOneMenu class="form-control" id="marque" value="#{demandeVoitureController.voitureMarque}" style="width: 170px;height: 40px">
                                                                        <p:ajax  event="valueChange" update="modele" listener="#{demandeVoitureController.loadModeles(event)}"/>
                                                                        <f:selectItem itemLabel="-- Select marque-- " itemValue="0"/> 
                                                                        <f:selectItems value="#{voitureMarqueController.itemsAvailableSelectOne}"  var="item" itemValue="#{item}" itemLabel="#{item.nom}"/>
                                                                    </p:selectOneMenu>
                                                                </p:column>

                                                                <p:column>
                                                                    <p:outputLabel for="modele" value="Modele:" style="text-align: left;padding-top: 10px;width: 200px" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:selectOneMenu class="form-control" id="modele" value="#{demandeVoitureController.selected.voiture.modele}" style="width: 170px;height: 40px">
                                                                        <f:selectItem itemLabel="-- Select modele-- " itemValue="0"/> 
                                                                        <f:selectItems value="#{demandeVoitureController.modeles}" var="item" itemValue="#{item}" itemLabel="#{item.nom}-#{item.annee}"/>

                                                                    </p:selectOneMenu>
                                                                </p:column>
                                                            </p:row>

                                                            <p:row>
                                                                <p:column>
                                                                    <p:outputLabel for="couleur" value="Couleur:" style="text-align: left;padding-top: 10px;width: 200px" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:selectOneMenu class="form-control" id="couleur" value="#{demandeVoitureController.selected.voiture.couleur}" style="width: 170px;height: 40px">
                                                                        <f:selectItem itemLabel="-- Select couleur-- " itemValue="0"/> 
                                                                        <f:selectItem itemLabel="Noir" itemValue="Noir" />
                                                                        <f:selectItem itemLabel="Blanc" itemValue="Blanc" />
                                                                        <f:selectItem itemLabel="Gris" itemValue="Gris" />

                                                                    </p:selectOneMenu>
                                                                </p:column>
                                                                <p:column>
                                                                    <p:outputLabel for="fuel" value="Carburant:" style="text-align: left;padding-top: 10px;width: 200px" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:selectOneMenu class="form-control" id="fuel" value="#{demandeVoitureController.selected.voiture.carburant}" style="width: 170px;height: 40px">
                                                                        <f:selectItem itemLabel="-- Select carburant-- " itemValue="0"/> 

                                                                        <f:selectItem itemLabel="Essence" itemValue="Essence" />
                                                                        <f:selectItem itemLabel="Diesel" itemValue="Diesel" />

                                                                    </p:selectOneMenu>
                                                                </p:column>
                                                            </p:row>
                                                            <p:row>


                                                                <p:column>
                                                                    <p:outputLabel value="Planning:" for="plan" style="text-align: left;padding-top: 10px;width: 200px" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:commandButton value="Select" class="myBtn" type="button" id="plan" onclick="PF('planningDialog').show();" style="width: 170px;height: 40px"/>
                                                                </p:column>

                                                            </p:row>

                                                            <p:column>
                                                                <p:outputLabel value="Any special instructions" for="instructions" style="text-align: left;padding-top: 10px;width: 200px" />
                                                            </p:column>
                                                            <p:column colspan="3">
                                                                <p:inputTextarea rows="6" style="width: 100%"   id="instructions" placeholder="Example: The keys are under the door mat, and the money is on the kitchen counter." value="#{demandeVoitureController.selected.demandeService.detail}" />
                                                            </p:column>
                                                        </p:panelGrid>
                                                    </div>
                                                </div>
                                            </div>


                                            <div class="tab-pane" id="company">
                                                <div class="row">
                                                    <h5 class="info-text"> Selectionner une societe pour votre service .</h5>

                                                    <div class="col-sm-2 col-md-offset-5">
                                                        <p:row>
                                                            <p:column>
                                                                <p:commandButton value="Choices" class="myBtn" type="button"  onclick="PF('SocietesDialog').show();" style="width: 200px;height: 50px;text-align: center"/>
                                                            </p:column>
                                                        </p:row>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="tab-pane" id="details">

                                                <h5 class="info-text">Your contact details and location</h5>
                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <p:panelGrid id="detailGrid" styleClass="ui-noborder" style="margin: 0 auto;width: 100%">

                                                            <p:row>
                                                                <p:column>
                                                                    <p:outputLabel value="Your email:" for="email" style="text-align: left;padding-top: 5px;width: 100%" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:inputText id="email" value="#{demandeVoitureController.selected.demandeService.client.email}"  style="width:250px;height: 40px;" />
                                                                    <!--<p:commandButton icon="fa fa-search" process="detailGrid"  styleClass="white-button" style="width:50px;height: 40px;" actionListener="#{demandeCleaningController.checkEmail()}" update=":ConnexionDlg,:growl,detailGrid"/>-->  
                                                                </p:column>

                                                                <p:column>
                                                                    <p:outputLabel value="Your number:" for="number" style="text-align: left;padding-top: 10px;width: 100%" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:inputText id="number" value="#{demandeVoitureController.selected.demandeService.client.phone}" style="width:250px;height: 40px;" />
                                                                </p:column>

                                                            </p:row>

                                                            <p:row>

                                                                <p:column>
                                                                    <p:outputLabel value="Your First name:" for="firstName" style="text-align: left;padding-top: 10px;width: 100%" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:inputText id="firstName" value="#{demandeVoitureController.selected.demandeService.client.prenom}" style="width:250px;height: 40px;" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:outputLabel value="Your Last Name:" for="lastName" style="text-align: left;padding-top: 10px;width: 100%" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:inputText id="lastName" value="#{demandeVoitureController.selected.demandeService.client.nom}" style="width:250px;height: 40px;" />
                                                                </p:column>

                                                            </p:row>

                                                            <p:row>

                                                                <p:column>
                                                                    <p:outputLabel value="City:" for="city" style="text-align: left;padding-top: 10px;width: 100%" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:selectOneMenu class="form-control" id="city" value="#{demandeVoitureController.ville}" style="width:250px;height: 40px;">
                                                                        <p:ajax  event="valueChange" listener="#{demandeVoitureController.loadSectors(event)}"  update="area" />
                                                                        <f:selectItem itemValue="0" itemLabel="--SELECT CITY--"/>
                                                                        <f:selectItems value="#{villeController.itemsAvailableSelectOne}" 
                                                                                       var="ville"
                                                                                       itemValue="#{ville}"
                                                                                       />
                                                                    </p:selectOneMenu>



                                                                </p:column>

                                                                <p:column>
                                                                    <p:outputLabel value="Area:" for="area" style="text-align: left;padding-top: 10px;width: 100%" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:selectOneMenu class="form-control" id="area" value="#{demandeVoitureController.selected.demandeService.client.secteur}" style="width:250px;height: 40px;">
                                                                        <f:selectItem  itemValue="#{null}" itemLabel="--SELECT AREA--"/>
                                                                        <f:selectItems value="#{demandeVoitureController.secteurs}" 
                                                                                       var="secteur"
                                                                                       itemValue="#{secteur}"
                                                                                       />
                                                                    </p:selectOneMenu>
                                                                </p:column>

                                                            </p:row>

                                                            <p:row>

                                                                <p:column>
                                                                    <p:outputLabel value="Adresse" for="adresse" style="text-align: left;padding-top: 10px;width: 100%" />
                                                                </p:column>

                                                                <p:column>
                                                                    <p:inputText id="adresse" value="#{demandeVoitureController.selected.demandeService.client.adresseComplement}" style="width:250px;height: 40px;" />
                                                                </p:column>
                                                            </p:row>
                                                        </p:panelGrid>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="tab-pane" id="summary">
                                                <h5 class="info-text">A summary of your booking. </h5>
                                                <div class="row">
                                                    <h:form>
                                                        <p:dataTable value="#{demandeVoitureController.selected}" var="item">
                                                            <p:column>
                                                                <f:facet name="header">
                                                                    <h:outputText value="Client"/>
                                                                </f:facet>
                                                                <h:outputText value="#{item.demandeService.client.email}"/>
                                                            </p:column>
                                                            <p:column>
                                                                <f:facet name="header">
                                                                    <h:outputText value="Societe"/>
                                                                </f:facet>
                                                                <h:outputText value="#{item.demandeService.worker.nom}"/>
                                                            </p:column>
                                                            <p:column>
                                                                <f:facet name="header">
                                                                    <h:outputText value="Voiture"/>
                                                                </f:facet>
                                                                <h:outputText value="#{item.voiture.modele.nom}"/>
                                                            </p:column>
                                                        </p:dataTable>
                                                    </h:form>
                                                </div>
                                            </div>
                                            <div class="tab-pane" id="payment">
                                                <h5 class="info-text">Let's discuss money. </h5>
                                                <div class="row">

                                                    <div class="col-sm-2 col-md-offset-5">
                                                        <p:commandButton value="Save" class="myBtn" styleClass="white-button" style="width:100%;height: 40px;text-align: center" actionListener="#{demandeVoitureController.save()}" update=":growl"/>  
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="wizard-footer">
                                            <div class="pull-right">
                                                <input type='button' class='btn btn-next btn-fill btn-success btn-wd' name='next' value='Next' >
                                                </input>
                                                <input type='button' class='btn btn-finish btn-fill btn-success btn-wd' name='finish' value='Finish' />
                                            </div>

                                            <div class="pull-left">
                                                <input type='button' class='btn btn-previous btn-default btn-wd' name='previous' value='Previous' />
                                            </div>
                                            <div class="clearfix"></div>
                                        </div>

                                    </h:form>
                                </div>
                            </div> <!-- wizard container -->
                        </div>
                    </div> <!-- row -->
                </div> <!--  big container -->

            </div>






            <ui:include src="planning.xhtml"/>
            <!--        <ui:include src="Connexion.xhtml"/> -->
            <ui:include src="Societes.xhtml"/>
            <!--            <ui:include src="Individual.xhtml"/>-->



        </ui:define>
    </ui:composition>

</html>
